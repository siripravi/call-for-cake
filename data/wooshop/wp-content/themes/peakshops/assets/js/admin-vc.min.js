jQuery(function(o){var n=o(".thb_templates_container"),r=o(".thb_library_categories li");if(o(".thb_template_import").on("click",function(t){var a=o(this);return o.ajax({method:"POST",url:window.ajaxurl,data:{action:"thb_load_template",template_unique_id:a.data("thb-id")},beforeSend:function(){a.addClass("disabled")},error:function(t){a.removeClass("disabled")},success:function(e){_.each(vc.filters.templates,function(t){e=t(e)});var t="";o("body").hasClass("compose-mode")?(t=vc.builder.parse({},e),_.delay(function(){_.each(t,function(t){vc.builder.create(t)}),vc.builder.render()})):(t=vc.storage.parseContent({},e),_.each(t,function(t){vc.shortcodes.create(t)})),vc.closeActivePanel(),a.removeClass("disabled")}}),!1}),o(".vc_templates-button").one("click",function(){var i=0;r.each(function(){var t=o(this),e=t.attr("data-sort"),a=o(".thb_template."+e,n).length;i+=a,t.find(".count").html(a),r.filter('[data-sort="all"]').find(".count").html(i)})}),r.on("click",function(t){var e=o(this),a=e.attr("data-sort");return o(".thb_library_categories li").removeClass("active"),e.addClass("active"),o(".thb_template",n).removeClass("hidden"),"all"!==a&&o(".thb_template:not(."+a+")").addClass("hidden"),!1}),o("body").on("change",".thb_radio_image_val",function(){var t=o(this),e=t.parents(".thb-radio-image").data("radio-image-id");o("#thb-radio-image-"+e).val(t.val()).trigger("change")}),"undefined"!=typeof vc){if(!vc.atts)return;vc.atts.thb_hotspot_param={init:function(t,e){function a(){var t;0<e.prev().find("img").length&&(t=e.find(".thb_hotspot_var").attr("id"),i=(i=e.prev().find("img").attr("src")).replace(/-\d+[Xx]\d+/gi,""),0<e.find("img.thb-hotspot-image").length?e.find("img.thb-hotspot-image").attr("src",i):(e.find(".thb-hotspot-image-holder").removeClass("no-img"),e.find(".thb-hotspot-image-holder").append('<img src="'+i+'" alt="Preview image" class="thb-hotspot-image" />')),e.find(".thb-hotspot-image-holder").hotspot({mode:"admin",LS_Variable:"#"+t,hotspotClass:"thb_hotspot",interactivity:!1,popupTitle:e.find(".thb-hotspot-image-holder").data("popup-title")?e.find(".thb-hotspot-image-holder").data("popup-title"):"Save",saveText:e.find(".thb-hotspot-image-holder").data("save-text")?e.find(".thb-hotspot-image-holder").data("save-text"):"Save",closeText:e.find(".thb-hotspot-image-holder").data("close-text")?e.find(".thb-hotspot-image-holder").data("close-text"):"Close",dataStuff:[{property:"Product",default:""}]}))}var i="",o=e.prev().find('input[name="image"]');a(),o.on("change",function(){a()})}}}});