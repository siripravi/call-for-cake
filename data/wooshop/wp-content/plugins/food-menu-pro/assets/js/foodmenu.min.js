!function(){"use strict";!function(t){function e(e){if(e){var i={},a=t(e).closest(".variations_form"),n=a.data("product_variations")||[];a.find("select[name^=attribute]").each((function(){var e=t(this).closest("select").attr("id");i["attribute_"+e]=t(this).val()})),n.some((function(t){return JSON.stringify(t.attributes)===JSON.stringify(i)?(a.find("input[name=variation_id]").val(t.variation_id),!0):(a.find("input[name=variation_id]").val(0),!1)}))}}function i(){t(".fmp-tabs-wrapper ul.fmp-tabs").on("click","li",(function(){var e=t(this),i=e.data("id"),a=e.parents(".fmp-tabs-wrapper"),n=e.parent(".fmp-tabs");return a.find(".fmp-tab-panel").hide(),n.find("li").removeClass("active"),e.addClass("active"),e.addClass("active"),t("#"+i).fadeIn(300),!1})),t(".fmp-tabs-wrapper").find(".fmp-tab-panel").hide(),t(".fmp-tabs-wrapper ul.fmp-tabs li:first-child").trigger("click")}function a(e,i,a,o,r){var d=e.text(),s=e.attr("data-sc-id"),p=parseInt(e.attr("data-paged"),10),l=parseInt(e.attr("data-max-page"),10),f="scID="+s+"&paged="+p;return f=f+"&action=fmpLoadMore&"+window.fmp.nonceID+"="+window.fmp.nonce,a.data("archive")&&(f=f+"&archive="+a.data("archive"),a.data("archive-value")&&(f=f+"&archive-value="+a.data("archive-value"))),t.ajax({type:"post",url:window.fmp.ajaxurl,data:f,beforeSend:function(){e.parent().addClass("rtfm-lm-loading")},success:function(t){t.error?(e.text(t.msg),e.attr("disabled","disabled"),e.parent().hide()):(e.attr("data-paged",p+1),"isotope"==o?n(a,i,t.data,r):"mLayout"==o?i.append(t.data).isotope("appended",t.data).isotope("updateSortData").isotope("reloadItems").isotope():a.children(".fmp-row").append(t.data),e.text(d)),p===l&&e.parents().find(".fmp-utility").remove(),e.parent().removeClass("rtfm-lm-loading")}}),!1}function n(e,i,a,n){var o;o||(o=n.find("button.selected").data("filter")),i.append(a).isotope("appended",a).isotope("reloadItems").isotope("updateSortData").isotope(),setTimeout((function(){i.isotope()}),100),t(n).on("click touchstart","button",(function(e){e.preventDefault(),o=t(this).attr("data-filter"),i.isotope(),t(this).parent().find(".selected").removeClass("selected"),t(this).addClass("selected")}));var r=e.find(".iso-search-input").keyup(d((function(){new RegExp(r.val(),"gi"),i.isotope()})))}function o(e,i,a,o,r){var d=t(window).height();if(t(window).scrollTop()+d>=e.offset().top+e.outerHeight()-50&&1==e.attr("data-trigger")){e.attr("data-trigger",0);var s,p=e.attr("data-sc-id"),l=parseInt(e.attr("data-paged"),10),f=parseInt(e.attr("data-max-page"),10);s=(s="scID="+p+"&paged="+l)+"&action=fmpLoadMore&"+fmp.nonceID+"="+fmp.nonce,a.data("archive")&&(s=s+"&archive="+a.data("archive"),a.data("archive-value")&&(s=s+"&archive-value="+a.data("archive-value"))),t.ajax({type:"post",url:fmp.ajaxurl,data:s,beforeSend:function(){e.addClass("rtfm-active-elm")},success:function(t){t.error?(e.parent().remove(),e.attr("data-trigger",0)):(e.attr("data-paged",l+1),"isotope"==o?n(a,i,t.data,r):"mLayout"==o?i.append(t.data).isotope("appended",t.data).isotope("updateSortData").isotope("reloadItems").isotope():a.children(".fmp-row").append(t.data),l===f&&e.parent().remove(),e.attr("data-trigger",1)),e.removeClass("rtfm-active-elm")}})}}function r(e,i,a,n,o){t(".fmp-pagination.fmp-ajax ul li").on("click","a",(function(r){var d;r.preventDefault();var s=t(this),p=s.parents("li"),l=p.parents(".fmp-pagination.fmp-ajax"),f=l.find("li.active"),c=parseInt(f.text(),10),m="<a data-paged='"+c+"' href='#'>"+c+"</a>",u=l.data("sc-id"),h=s.data("paged");f.html(m),l.find("li").removeClass("active"),p.addClass("active"),p.html("<span>"+h+"</span>"),d=(d="scID="+u+"&paged="+h)+"&action=fmpLoadMore&"+fmp.nonceID+"="+fmp.nonce,e.data("archive")&&(d=d+"&archive="+e.data("archive"),e.data("archive-value")&&(d=d+"&archive-value="+e.data("archive-value"))),t.ajax({type:"post",url:fmp.ajaxurl,data:d,beforeSend:function(){e.find(".fmp-content-loader").addClass("fmp-pre-loader"),a.append(n).fadeIn(200)},success:function(a){a.error?alert(a.msg):void 0===i?(e.children(".fmp-row"),e.children(".fmp-row").html(a.data).show(),t(document).imagesLoaded((function(){e.children(".fmp-row")}))):(e.children(".fmp-row").find(".masonry-grid-item").remove(),t.when(i.append(a.data).isotope("appended",a.data).isotope("updateSortData").isotope("reloadItems").isotope()).done((function(){i.imagesLoaded((function(){i.isotope()}))}))),t("html, body").animate({scrollTop:e.offset().top-100},"swing"),e.find(".fmp-content-loader").removeClass("fmp-pre-loader"),o()}})}))}function d(t,e){var i;return function(){i&&clearTimeout(i),setTimeout((function(){t(),i=null}),e||100)}}t(document).on("click",".fmp-disable",(function(t){t.preventDefault()})),t(".fmp-wrapper a.fmp-disable").each((function(){t(this).prop("disabled",!0),t(this).removeAttr("href")})),t(document).on("change",".fmp-qv-add-to-cart select[name^=attribute]",(function(){e(this)})),t(document).on("click",".fmp-popup",(function(a){a.preventDefault();var n=t(this).data("id");return t.ajax({type:"POST",url:window.fmp.ajaxurl,data:{action:"fmp_ajax",id:n},beforeSend:function(){t("body > .fmp-modal").remove(),t('<div class="modal-spinner"></div>').appendTo("body").show()},success:function(a){t("body > .modal-spinner").remove(),t("<div class='fmp-modal'>"+a.html+"</div>").appendTo("body").modal({fadeDuration:100}),e(t(document).find(".fmp-qv-add-to-cart select[name^=attribute]").eq(0));var n=t(".fmp-wrapper"),o=n.find("#fmp-slide-wrapper");if(o){var r=n.find(".fmp-single-slider");o.length&&r.imagesLoaded((function(){!function(t){var e=t.find(".rtfm-carousel-main"),i=t.find(".rtfm-carousel-thumb"),a=new Swiper(i[0],{spaceBetween:15,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:2},991:{slidesPerView:3}}});new Swiper(e[0],{spaceBetween:15,speed:1e3,autoHeight:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:a,autoScrollOffset:1}})}(n),setTimeout((function(){r.find(".swiper").removeClass("slider-loading"),n.find(".fmp-content-loader").removeClass("element-loading"),r.find(".fmp-loading, .fmp-loading-overlay").fadeOut(100,(function(){var e=this;setTimeout((function(){t(e).remove()}),700)})),setTimeout((function(){r.removeClass("fmp-pre-loader")}),700)}),.3)}))}i()},error:function(e,i){var a;a=0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===i?"Requested JSON parse failed.":"timeout"===i?"Time out error.":"abort"===i?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText,t("body > .modal-spinner").remove(),t("<div class='fmp-modal'>"+a+"</div>").appendTo("body").modal({fadeDuration:100})}}),!1})),t(document).on("click",".fmp-wrapper .fmp-wc-add-to-cart-btn",(function(e){e.preventDefault();var i=t(this),a=i.data("type")||"simple",n=i.data("id")||0,o=i.data("variation-id")||0,r={action:"fmp_wc_ajax_add_to_cart",product_id:n,quantity:parseInt(i.parents(".fmp-wc-add-to-cart-wrap, .fmp-price-box").find('input[name="quantity"]').val(),10)||1,type:a,variation_id:o};return t.ajax({url:window.fmp.ajaxurl,data:r,type:"POST",beforeSend:function(){i.parent().find(".fmp-wc-view-cart").remove(),i.addClass("loading")},success:function(e){var a=e.fragments;a&&(t.each(a,(function(e,i){t(e).replaceWith(i)})),t('<a href="'+window.fmp.wc_cart_url+'" class="added_to_cart wc-forward" title="View cart"></a>').insertAfter(i)),i.removeClass("loading")},error:function(){i.parent().find(".added_to_cart.wc-forward").remove(),i.removeClass("loading")}}),!1})),i(),t(window).on("load",(function(){window.initFMP()})),window.initFMP=function(){t(".fmp-wrapper").each((function(){var e=t(this);if(t(this).attr("data-layout")){var i,n,s=e.find(".fmp-isotope"),p=e.find(".fmp-carousel"),l='<div class="fmp-loading-overlay"></div><div class="fmp-loading fmp-ball-clip-rotate"><div></div></div>',f=e.find(".fmp-pre-loader"),c=e.find(".fmp-content-loader"),m=function(){e.find(".fmp-content-loader").removeClass("element-loading"),c.find(".fmp-loading, .fmp-loading-overlay").fadeOut(100,(function(){var e=this;setTimeout((function(){t(e).remove()}),700)})),setTimeout((function(){c.removeClass("fmp-pre-loader")}),700)};if(p.length&&p.imagesLoaded((function(){!function(t){t(".rtfm-carousel-slider").each((function(){t(this).rtfm_slider()}))}(t),t(document).on("rtfm_slider_loaded",(function(){p.removeClass("slider-loading"),m()}))})),s.length){var u=e.find(".fmp-isotope-buttons"),h=s.find(".even-grid-item");n||(n=u.find("button.selected").data("filter"));var v=s.imagesLoaded((function(){s.parents(".fmp-row").removeClass("fmp-pre-loader"),v.isotope({itemSelector:".fmp-isotope-item",masonry:{columnWidth:".fmp-isotope-item"},resizable:!h.length,layoutMode:h.length?"fitRows":"masonry",filter:function(){var e=t(this),a=!i||e.text().match(i),o=!n||e.is(n);return a&&o}})})),g=e.find(".iso-search-input").keyup(d((function(){i=new RegExp(g.val(),"gi"),v.isotope()})));u.on("click touchstart","button",(function(e){e.preventDefault(),n=t(this).attr("data-filter"),v.isotope(),t(this).parent().find(".selected").removeClass("selected"),t(this).addClass("selected")})),e.find(".fmp-utility .fmp-load-more").length&&e.find(".fmp-load-more").on("click","button",(function(i){i.preventDefault(i),a(t(this),v,e,"isotope",u)})),e.find(".fmp-utility .fmp-scroll-load-more").length&&t(window).on("scroll",(function(){o(e.find(".fmp-utility .fmp-scroll-load-more"),v,e,"isotope",u)}))}else if(e.find(".fmp-row.fmp-masonry").length){var w=t(".fmp-row.fmp-masonry").imagesLoaded((function(){w.isotope({itemSelector:".masonry-grid-item",masonry:{columnWidth:".masonry-grid-item"}})}));e.find(".fmp-utility .fmp-load-more").length&&e.find(".fmp-load-more").on("click","button",(function(i){i.preventDefault(i),a(t(this),w,e,"mLayout")})),e.find(".fmp-utility .fmp-scroll-load-more").length&&t(window).on("scroll",(function(){var t=e.find(".fmp-utility .fmp-scroll-load-more");t.attr("data-trigger")>0&&o(t,w,e,"mLayout")})),e.find(".fmp-utility .fmp-pagination.fmp-ajax").length&&r(e,w,f,l,m)}else e.find(".fmp-utility .fmp-load-more").length&&e.find(".fmp-load-more").on("click","button",(function(i){i.preventDefault(i),a(t(this),w,e,"eLayout")})),e.find(".fmp-utility .fmp-scroll-load-more").length&&t(window).on("scroll",(function(){var t=e.find(".fmp-utility .fmp-scroll-load-more");t.attr("data-trigger")>0&&o(t,w,e,"eLayout")})),e.find(".fmp-utility .fmp-pagination.fmp-ajax").length&&r(e,w,f,l,m);0===f.find(".fmp-loading-overlay").length&&f.append(l),m(),e.find(".fmp-wc-quantity-wrap").length&&function(t){t(document).on("click",".fmp-wc-quantity-wrap .input-group-btn .quantity-btn",(function(){var e=t(this).closest(".fmp-wc-quantity-wrap").find(".fmp-input-text");t(this).hasClass("quantity-plus")&&e.trigger("stepUp").trigger("change"),t(this).hasClass("quantity-minus")&&e.trigger("stepDown").trigger("change")}))}(t)}}))};var s=function(e){this.$slider=e,this.slider=this.$slider.get(0),this.swiperSlider=this.slider.swiper||null,this.defaultOptions={breakpointsInverse:!0,observer:!0,navigation:{nextEl:this.$slider.find(".swiper-button-next").get(0),prevEl:this.$slider.find(".swiper-button-prev").get(0)},pagination:{el:this.$slider.find(".swiper-pagination").get(0),type:"bullets",clickable:!0}},this.slider_enabled="function"==typeof Swiper,this.options=Object.assign({},this.defaultOptions,this.$slider.data("options")||{}),this.initSlider=function(){this.slider_enabled&&(this.options.rtl&&this.$slider.attr("dir","rtl"),this.swiperSlider?(this.swiperSlider.parents=this.options,this.swiperSlider.update()):this.swiperSlider=new Swiper(this.$slider.get(0),this.options))},this.imagesLoaded=function(){if(this.$slider.data("options").lazy)this.$slider.trigger("rtfm_slider_loaded",this);else{var e=this;if(!t.isFunction(t.fn.imagesLoaded)||t.fn.imagesLoaded.done)return this.$slider.trigger("rtfm_slider_loading",this),void this.$slider.trigger("rtfm_slider_loaded",this);this.$slider.imagesLoaded().progress((function(t,i){e.$slider.trigger("rtfm_slider_loading",[e])})).done((function(t){e.$slider.trigger("rtfm_slider_loaded",[e])}))}},this.start=function(){var t=this;this.$slider.on("rtfm_slider_loaded",this.init.bind(this)),setTimeout((function(){t.imagesLoaded()}),1)},this.init=function(){this.initSlider()},this.rtSwiper=function(){return new Swiper(this.$slider.get(0),this.options)},this.start()};t.fn.rtfm_slider=function(){return new s(this),this}}(jQuery)}();